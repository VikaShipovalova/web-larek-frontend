# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
## Базовый код
### Класс Model
Абстрактный класс. Используется для создания модельных данных. Содержит конструктор и метод, сообщающий, что модель изменилась.

### Класс Component
Абстрактный класс. Используется для создания компонентов пользовательского интерфейса.
Содержит конструктор и ряд методов для универсальной работы с DOM -компонентами: 
- toggleClass - переключается класс;
- setText - устанавливает текстовое содержимое;
- setImage - устанавливает изображения и альтернативный текст;
- setDisabled - изменяет статус блокировки;
- setHidden, setVisible - скрывает/отоброжает элемент;
- render - возвращает корневой DOM-элемент.

### Класс Api
Класс отвечает за работу API. Имеет конструктор, методы get и post, обработчик ответа от сервера.

### EventEmitter
Этот класс - брокер событий. Содержит конструктор, а также:
- устанавливает и снимает обработчик событий;
- инициирует событие с данными;
- слушает все события;
- сбрасывает все обработчики;
- триггер, генерирующий событие при вызове

## Компоненты модели данных
### Класс ProductMenager
Этот класс отвечает за управление товарами. Содержит методы:
- добавляет/удаляет его в корзину
Наследуется от Model<IProduct>. Может использоваться для отображения.

### Класс BasketManager
Этот класс отвечает за работу корзины. Содержит методы:
- доваление/удаление товаров
- подсчет итоговой стоимости заказа
- обновление корзины
Наследуется от Model<IBasket>. Может использоваться для отображения.

### Класс OrderManager
Этот класс отвечает за работу c данными о заказчике. Содержит методы:
- выбор метода оплаты
- добавление/изменение информации о пользователе
- удаление информации о пользователе
Наследуется от Model<IOrderForm>. Может использоваться для отображения.

## Компоненты представления
### Класс Page
Класс для отображения основных элементов страницы: каталог продуктов, счетчик товаров. Наследуется от Component<IPage>
Содержит конструктор и методы:
- set counter - устанавливает значение счетчика;
- set catalog - заменяет содержимое каталога;
- set locked - переключает блокировку интерфейса;

### Класс CardProduct
Класс для отображения и работы пользователя с карточкой товара. Наследуется от Component<ICardProduct>
Содержит конструктор и методы:
- set/get id - управляет индификатором карточки.
- set/get title - управляет названием товара.
- set/get category - управляет категорией и ее цветом.
- set/get price - управляет ценой товара.
- set image - устанавливает изображение товара.
- set description - устанавливает описание товара.
- set buttonText - устанавливает textContent кнопки.

### ModalWindow
Класс для создания и управления модальными окнами. Позволяет открывать и закрывать модальное окно, а так же управлять его содержимым. Наследуется от Component<IModal>.
Содержит конструктор и методы:
- content - собирает содержимое модального окна;
- open - открывает модальное окно;
- close - закрывает модальное окно;
- renderModal - генерирует модальное окно с собраным содержимым и открывает его.

### Класс OrderForm
Класс для отображения и управления формой доставки, включая метод оплаты и ввод адреса доставки. Наследуется от Modal<IOrderForm>.
Содержит конструктор и методы:
- setPaymentMethod - устанавливает форму оплаты;
- setAddress - устанавливает адрес доставки;
- setPhone - устанавливает номер телефона;
- setEmail - устанавливает адрес электронной почты;

### Класс Basket
Класс для отображения и работы корзины. Отвечает за отображение товаров, управление их выбором и стоимостью. Наследуется от Component<IBasket>.
Содержит конструктор и методы:
- toggleButton - переключает доступность кнопки.
- set product - устанавливает товары в корзине.
- set total - устанавливает общую стоимость товаров.

### FinalModal
Класс для отображения финального окна.
Содержит конструктор и метод, показывающий итоговый счет.


## Ключевые типы данных
```
Типы данных для базовых классов:

export type ProductCategory = 'софт-скил' | 'другое' | 'дополнительное' | 'кнопка' | 'хард-скил';
export type PaymentMethod = 'онлайн' | 'при получении';

export interface IProduct {
    category: ProductCategory;
    name: string;
    price: number;
    description: string;
    image: URL;
}

export interface IProductList {
    item: IProduct[];
}

export interface IBasket {
    item: IProduct[];
    price: number;
}

export interface IOrderForm {
    payment: PaymentMethod;
    address: string;
    email: string;
    phone: string;
}








## Архитектура
![Архитктура проекта](https://github.com/VikaShipovalova/web-larek-frontend/raw/main/NewModel.png)